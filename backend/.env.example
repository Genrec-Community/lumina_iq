# =================================================================================
# PRODUCTION RAG BACKEND ENVIRONMENT CONFIGURATION
# =================================================================================

# Environment Settings
ENVIRONMENT=production

# Server Configuration
HOST=0.0.0.0
PORT=8000
CORS_ORIGINS=["https://your-production-domain.com", "https://your-cdn-domain.com"]

# AI Configuration - REQUIRED: Add your Together.ai API key
TOGETHER_API_KEY=your_production_together_api_key_here
TOGETHER_MODEL=openai/gpt-4o-mini
TOGETHER_BASE_URL=https://api.together.xyz/v1

# Gemini Configuration - OPTIONAL: For fallback AI models
GEMINI_MODEL=gemini-2.0-flash-exp
GEMINI_API_KEY_1=your_production_gemini_api_key_1
GEMINI_API_KEY_2=your_production_gemini_api_key_2
GEMINI_API_KEY_3=your_production_gemini_api_key_3
GEMINI_API_KEY_4=your_production_gemini_api_key_4

# Embedding Configuration
EMBEDDING_MODEL=BAAI/bge-large-en-v1.5
EMBEDDING_DIMENSIONS=1024

# Qdrant Cloud Configuration - REQUIRED for RAG
QDRANT_URL=https://your-production-qdrant-cluster.cloud.qdrant.io:6333
QDRANT_API_KEY=your_production_qdrant_api_key_here
QDRANT_COLLECTION_NAME=lumina_iq_documents

# Storage Configuration
BOOKS_DIR=./uploaded_books
CACHE_DIR=./cache

# Security - REQUIRED: Generate secure random strings in production!
JWT_SECRET=your_secure_jwt_secret_key_at_least_32_chars_long
ENCRYPTION_KEY=your_secure_encryption_key_at_least_32_chars_long

# Authentication
LOGIN_USERNAME=admin
LOGIN_PASSWORD=change_this_secure_password_in_production

# Logging Configuration
LOG_LEVEL=WARNING
LOG_FORMAT=json

# Performance Settings - Production Optimized
MAX_WORKERS=8
MAX_CONCURRENT_REQUESTS=500
EMBEDDING_BATCH_SIZE=32
CACHE_EMBEDDINGS=true
CACHE_QUERY_RESULTS=true
CACHE_TTL_SECONDS=7200

# Redis Configuration - Production Caching and Task Queue
REDIS_URL=redis://your-redis-cluster:6379
REDIS_CACHE_DB=0
REDIS_TASK_DB=1

# Celery Configuration - Async Task Processing
CELERY_BROKER_URL=redis://your-redis-cluster:6379/1
CELERY_RESULT_BACKEND=redis://your-redis-cluster:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# Gunicorn Production Settings
GUNICORN_WORKERS=8
GUNICORN_THREADS=4
GUNICORN_WORKER_TIMEOUT=60
GUNICORN_MAX_REQUESTS=10000
GUNICORN_MAX_REQUESTS_JITTER=1000

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=15
HEALTH_CHECK_RETRIES=5

# Monitoring and Observability
ENABLE_PROMETHEUS_METRICS=true
METRICS_PORT=9090

# Graceful Shutdown
SHUTDOWN_TIMEOUT=60
WORKER_SHUTDOWN_TIMEOUT=30

# LangChain Configuration
LANGCHAIN_TRACING_V2=false
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com
LANGCHAIN_API_KEY=your_langchain_api_key_here
LANGCHAIN_PROJECT=production_lumina_iq

# Circuit Breaker Settings
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_EXPECTED_EXCEPTION=Exception

# LlamaIndex Configuration
LLAMAINDEX_CHUNK_SIZE=256
LLAMAINDEX_CHUNK_OVERLAP=50
LLAMAINDEX_USE_FOR_LARGE_PDFS=true
LLAMAINDEX_LARGE_PDF_THRESHOLD_MB=20

# Session Configuration
SESSION_EXPIRE_HOURS=8

# Rate Limiting (if implemented)
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST_SIZE=100

# Database Configuration (if using relational DB)
DATABASE_URL=postgresql://user:password@host:5432/database
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# External Services
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_for_alerts