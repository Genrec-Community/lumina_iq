# =================================================================================
# PRODUCTION RAG BACKEND ENVIRONMENT CONFIGURATION
# =================================================================================

# Environment Settings
ENVIRONMENT=production

# Server Configuration
HOST=0.0.0.0
PORT=8000
CORS_ORIGINS=["https://your-production-domain.com", "https://your-cdn-domain.com"]

# AI Configuration - REQUIRED: Add your Together.ai API key
TOGETHER_API_KEY=36388622cb3e62b32fc5c8b34015aacf2ed67f5f92dfc37ebe623fca7d55e1ad
TOGETHER_MODEL=meta-llama/Llama-3.3-70B-Instruct-Turbo-Free
TOGETHER_BASE_URL=https://api.together.xyz/v1

# Gemini Configuration - OPTIONAL: For fallback AI models
# GEMINI_MODEL=gemini-2.0-flash-exp
# GEMINI_API_KEY_1=your_production_gemini_api_key_1
# GEMINI_API_KEY_2=your_production_gemini_api_key_2
# GEMINI_API_KEY_3=your_production_gemini_api_key_3
# GEMINI_API_KEY_4=your_production_gemini_api_key_4

# Embedding Configuration
EMBEDDING_MODEL=togethercomputer/m2-bert-80M-32k-retrieval
EMBEDDING_DIMENSIONS=768

# Qdrant Cloud Configuration - REQUIRED for RAG
QDRANT_URL=https://99b13e96-2679-4097-adfb-bf7d5e4b2f1a.europe-west3-0.gcp.cloud.qdrant.io:6333
QDRANT_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3MiOiJtIn0._LDChmUDuCsLyFPKqedaggqUz7tgdoaxW6qTnV1-20g
QDRANT_COLLECTION_NAME=lumina_iq_documents

# Storage Configuration
BOOKS_DIR=./uploaded_books
CACHE_DIR=./cache

# Security - REQUIRED: Generate secure random strings in production!
JWT_SECRET=your_secure_jwt_secret_key_at_least_32_chars_long
ENCRYPTION_KEY=your_secure_encryption_key_at_least_32_chars_long

# Authentication
LOGIN_USERNAME=admin
LOGIN_PASSWORD=vsbec

# Logging Configuration
LOG_LEVEL=DEBUG
LOG_FORMAT=json

# Performance Settings - Production Optimized
MAX_WORKERS=8
MAX_CONCURRENT_REQUESTS=500
EMBEDDING_BATCH_SIZE=32
CACHE_EMBEDDINGS=true
CACHE_QUERY_RESULTS=true
CACHE_TTL_SECONDS=7200

# Redis Configuration - Production Caching and Task Queue
# Format: redis://[username]:[password]@hostname:port
# For Redis Cloud with auth, use: redis://default:<password>@hostname:port
# For Redis Cloud without auth, use: redis://hostname:port
# For local Redis: redis://localhost:6379
REDIS_URL=redis://redis-13314.c301.ap-south-1-1.ec2.redns.redis-cloud.com:13314
REDIS_CACHE_DB=0
REDIS_TASK_DB=1

# Celery Configuration - Async Task Processing
CELERY_BROKER_URL=redis://redis-13314.c301.ap-south-1-1.ec2.redns.redis-cloud.com:13314/1
CELERY_RESULT_BACKEND=redis://redis-13314.c301.ap-south-1-1.ec2.redns.redis-cloud.com:13314/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# Gunicorn Production Settings
GUNICORN_WORKERS=8
GUNICORN_THREADS=4
GUNICORN_WORKER_TIMEOUT=60
GUNICORN_MAX_REQUESTS=10000
GUNICORN_MAX_REQUESTS_JITTER=1000

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=15
HEALTH_CHECK_RETRIES=5

# Monitoring and Observability
ENABLE_PROMETHEUS_METRICS=true
METRICS_PORT=9090

# Graceful Shutdown
SHUTDOWN_TIMEOUT=60
WORKER_SHUTDOWN_TIMEOUT=30

# LangChain Configuration
LANGCHAIN_TRACING_V2=false
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com
LANGCHAIN_API_KEY=your_langchain_api_key_here
LANGCHAIN_PROJECT=production_lumina_iq

# Circuit Breaker Settings
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_EXPECTED_EXCEPTION=Exception

# LlamaIndex Configuration
LLAMAINDEX_CHUNK_SIZE=256
LLAMAINDEX_CHUNK_OVERLAP=50
LLAMAINDEX_USE_FOR_LARGE_PDFS=true
LLAMAINDEX_LARGE_PDF_THRESHOLD_MB=20

# Session Configuration
SESSION_EXPIRE_HOURS=8

# Rate Limiting (if implemented)
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST_SIZE=100

# Database Configuration (if using relational DB)
DATABASE_URL=postgresql://user:password@host:5432/database
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# External Services
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_for_alerts